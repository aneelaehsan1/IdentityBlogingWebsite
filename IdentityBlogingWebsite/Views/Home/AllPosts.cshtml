@using IdentityBlogingWebsite.Models

@model IEnumerable<Post>
@{
    ViewData["Title"] = "Blog Page";
}

@if (User.Identity.IsAuthenticated)
{

    @if (User.IsInRole("User"))
    {

    }
    else
    {
        <h2>Your role is Admin</h2>
    }
}
<body class="w3-light-grey">

    <div class="w3-content" style="max-width:1400px">


        <div class="w3-row">

            <!-- Blog entries -->
            <div class="w3-col l8 s12">

                <div class="w3-col l8 s12">

                    @foreach (var item in Model)
                    {
                        <!-- Blog entry -->
                        <div class="w3-card-4 w3-margin w3-white">
                            <img src="/images/@item.Image" alt="Nature" style="width:100%">
                            <div class="w3-container">
                                <h3><b>@item.Title</b></h3>
                                <h5>>@item.SubTitle, <span class="w3-opacity">@item.Date</span></h5>
                            </div>

                            <div class="w3-container">
                                <p>
                                    @if (@item.Content.Length < 200)
                                    {
                                        @item.Content
                                    }
                                    else
                                    {
                                        @item.Content.Substring(0,200)
                                    }
                                </p>
                                <div class="w3-row">
                                    <div class="w3-col m8 s12">
                                        <p><a class="w3-button w3-padding-large w3-white w3-border" asp-controller="Home" asp-action="ReadPost" asp-route-Id="@item.Id"><b>READ MORE »</b></a></p>
                                    </div>

                                </div>
                            </div>
                        </div>
                    }

                </div>
            </div>


            <!-- Introduction menu -->
            <div class="w3-col l4">
                <!-- About Card -->
                @* <div class="w3-card w3-margin w3-margin-top">
                <img src="/w3images/avatar_g.jpg" style="width:100%">
                <div class="w3-container w3-white">
                <h4><b>My Name</b></h4>
                <p>Just me, myself and I, exploring the universe of uknownment. I have a heart of love and a interest of lorem ipsum and mauris neque quam blog. I want to share my world with you.</p>
                </div>
                </div><hr>*@

                <div class="w3-card w3-margin">
                    <div class="w3-container w3-padding">
                        <h4>Popular Posts</h4>
                    </div>
                    <ul class="w3-ul w3-hoverable w3-white">
                        @foreach (var item in Model)
                        {
                            <li class="w3-padding-16">
                                <img src="/images/@item.Image" alt="Image" class="w3-left w3-margin-right" style="width:50px">
                                <span class="w3-large">@item.Title</span><br>
                                <span>@item.SubTitle</span>
                            </li>
                        }
                    </ul>
                </div>
                <hr>



                <!-- END Introduction Menu -->
            </div>

            <!-- END GRID -->
            @*           <section>
            <br />
            <section class="">
            <!-- Footer -->
            <footer class="text-center text-white" style="background-color: #ffff">
            <!-- Grid container -->
            <div class="container p-4 pb-0">
            <!-- Section: CTA -->

            <!-- Section: CTA -->
            </div>
            <!-- Grid container -->
            <!-- Copyright -->

            <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">

            @{
            DateTime now = DateTime.Today;
            now.ToString("yyyy");
            }©Copyright



            </div>
            <!-- Copyright -->
            </footer>
            <!-- Footer -->
            </section>

            </section>*@
        </div>
    </div>

</body>